---
title: HTTP2 协议栈
# tags:
#   - nodejs
date: '2023-11-04'
summary: HTTP2 协议栈优势：二进制传输，多路复用，头部压缩，服务端推送，请求优先级
---

HTTP/2与HTTP/1相比，具有显著的优势，主要体现在以下几个方面：

1. **二进制传输**：HTTP/2采用二进制格式传输数据，而非HTTP/1.x的文本格式。这种二进制协议解析起来更高效，减少了传输和解析的开销，从而提高了性能。
2. **多路复用**：HTTP/1.x中，一个连接只能提交一个请求，而HTTP/2允许在一个TCP连接上同时处理多个请求和响应，这意味着多个请求可以并行处理，降低了连接的占用数量，进一步提升了网络的吞吐量。
3. **头部压缩**：HTTP/1.x在请求和响应中重复地携带冗长的头部数据，而HTTP/2通过gzip或compress算法对头部进行压缩，并且在客户端与服务端各维护了一份头部索引表，只需要根据索引ID就可以进行头部信息的传输。这种方式缩小了头部容量，间接提升了传输效率。
4. **服务端推送**：在HTTP/2中，服务器端可以在发送页面HTML时主动推送其他资源，而不用等到浏览器解析到相应位置再发起请求。这种主动推送的方式可以降低整个请求的响应时间，提升用户体验。
5. **请求优先级**：由于HTTP/2支持在一个连接上处理多个并行请求，因此它允许客户端为每个请求指定一个优先级。服务器可以使用这个信息来决定优先处理哪些请求，从而更有效地利用资源。

HTTP/2的特点主要体现在其高效性、灵活性和兼容性上。它解决了HTTP/1.x中的队头阻塞、头部冗余等问题，通过一系列改进和优化，提高了网络传输的性能和效率。同时，HTTP/2保持了与HTTP/1.x的语义兼容性，使得现有文档、HTTP方法、状态码以及首部字段等都能无缝迁移到HTTP/2中。这使得HTTP/2在实际应用中能够广泛支持各种Web应用和服务，满足了日益增长的网络需求。